{"version":3,"file":"backbone-hypermedia-amd.min.js","sources":["backbone-hypermedia-amd.js"],"names":["factory","exports","module","require","define","amd","Backbone","_","$","HypermediaModel","Model","extend","followed","follow","relsToFollow","promises","self","this","links","keys","i","length","context","key","contains","split","item","attr","get","Array","a","addPromises","model","options","Collection","b","when","apply","then","trigger","fetch","prototype","call","sync","method","mediaType","accepts","json","contentType","toJSON","arguments","each","jsonContext","isArray","indexOf","substr","push","HypermediaCollection","chain","filter","map","value","thing","isFunction","rels","l","rel","Error","related","urlFactory","identity","fetchOptions","url","href"],"mappings":"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"}