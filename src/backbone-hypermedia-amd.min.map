{"version":3,"file":"backbone-hypermedia-amd.min.js","sources":["backbone-hypermedia-amd.js"],"names":["factory","exports","module","require","define","amd","Backbone","_","$","HypermediaModel","Model","extend","initialize","this","followed","follow","relsToFollow","promises","self","links","keys","i","length","context","key","contains","split","item","attr","get","Array","a","addPromises","model","options","Collection","b","when","apply","then","trigger","fetch","prototype","call","sync","method","mediaType","accepts","json","contentType","toJSON","arguments","each","jsonContext","isArray","indexOf","substr","push","HypermediaCollection","chain","filter","map","value","thing","isFunction","rels","l","rel","Error","related","urlFactory","identity","fetchOptions","url","href"],"mappings":"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"}